<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SIP022 AEAD-2022 Ciphers | Shadowsocks</title>
    <meta name="description" content="A fast tunnel proxy that helps you bypass firewalls.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.DDUk8U8b.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.ljAHMCTh.js"></script>
    <link rel="modulepreload" href="/assets/chunks/theme.BOzv_Bkk.js">
    <link rel="modulepreload" href="/assets/chunks/framework.ymCRTBvy.js">
    <link rel="modulepreload" href="/assets/doc_sip022.md.B6xutQm7.lean.js">
    <script src="https://www.googletagmanager.com/gtag/js?id=G-NX48EZF634"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NX48EZF634");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>Shadowsocks</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/doc/what-is-shadowsocks.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Documentation</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/shadowsocks/shadowsocks-org/issues" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Github Issues</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://discourse.shadowsocks.org/" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Community</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/shadowsocks/shadowsocks-org" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/shadowsocks/shadowsocks-org" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Introduction</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/what-is-shadowsocks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>What is Shadowsocks?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/getting-started.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/deploying.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Deploying</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Configuration</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/configs.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Config Format</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/advanced.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Advanced</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Ciphers</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/aead.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>AEAD</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/stream.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Stream</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>SIPs</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/what-is-sip.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>What is SIP?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/sip002.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SIP002 URI Scheme</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/sip003.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SIP003 Plugin</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/sip008.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SIP008 Online Configuration Delivery</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/sip022.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SIP022 AEAD-2022 Ciphers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/sip023.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>SIP023 Extensible Identity Headers</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>About</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/doc/contributors.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Contributors</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _doc_sip022" data-v-39a288b8><div><div class="warning custom-block"><p class="custom-block-title">⚠️ This is NOT the official shadowsocks website ⚠️</p><p><strong>The official shadowsocks site is at <a href="https://shadowsocks.org/" target="_blank" rel="noreferrer">shadowsocks.org</a></strong></p><p>Under the condition of <a href="https://github.com/shadowsocks/shadowsocks-org/blob/main/LICENSE" target="_blank" rel="noreferrer">MIT License of the original project</a>, this <a href="https://github.com/QubitPi/shadowsocks" target="_blank" rel="noreferrer">forked site</a> is used ONLY for non-commercial and personal study purposes. <strong>The official shadowsocks site is at <a href="https://shadowsocks.org/" target="_blank" rel="noreferrer">shadowsocks.org</a></strong>. In addition, the <a href="https://github.com/QubitPi/shadowsocks/pull/4" target="_blank" rel="noreferrer">SEO indexing has been turned off on this site</a> in order to protect the exposure of the official <a href="https://shadowsocks.org/" target="_blank" rel="noreferrer">shadowsocks.org</a> on the internet</p><p><strong>The official shadowsocks site is at <a href="https://shadowsocks.org/" target="_blank" rel="noreferrer">shadowsocks.org</a></strong></p></div><h1 id="sip022-aead-2022-ciphers" tabindex="-1">SIP022 AEAD-2022 Ciphers <a class="header-anchor" href="#sip022-aead-2022-ciphers" aria-label="Permalink to &quot;SIP022 AEAD-2022 Ciphers&quot;">​</a></h1><h2 id="abstract" tabindex="-1">Abstract <a class="header-anchor" href="#abstract" aria-label="Permalink to &quot;Abstract&quot;">​</a></h2><p>This document defines the 2022 Edition of the Shadowsocks protocol. Improving upon Shadowsocks AEAD (2017), Shadowsocks 2022 addresses well-known issues of the previous editions, drops usage of obsolete cryptography, optimizes for security and performance, and leaves room for future extensions.</p><h2 id="_1-overview" tabindex="-1">1. Overview <a class="header-anchor" href="#_1-overview" aria-label="Permalink to &quot;1. Overview&quot;">​</a></h2><p>Shadowsocks 2022 is a secure proxy protocol for TCP and UDP traffic. The protocol uses <a href="https://en.wikipedia.org/wiki/Authenticated_encryption" target="_blank" rel="noreferrer">AEAD</a> with a pre-shared symmetric key to protect payload integrity and confidentiality. The proxy traffic is indistinguishable from a random byte stream, and therefore can circumvent firewalls and Internet censors that rely on <a href="https://en.wikipedia.org/wiki/Deep_packet_inspection" target="_blank" rel="noreferrer">DPI (Deep Packet Inspection)</a>.</p><p>Compared to <a href="https://github.com/shadowsocks/shadowsocks-org/blob/master/whitepaper/whitepaper.md" target="_blank" rel="noreferrer">previous editions</a> of the protocol family, Shadowsocks 2022 allows and mandates full replay protection. Each message has its unique type and cannot be used for unintended purposes. The session-based UDP proxying significantly reduces protocol overhead and improves reliability and efficiency. Obsolete cryptographic functions have been replaced by their modern counterparts.</p><p>As with previous editions, Shadowsocks 2022 does not provide forward secrecy. It is believed that using a pre-shared key without performing handshakes is best for its use cases.</p><p>A Shadowsocks 2022 implementation consists of a server, a client, and optionally a relay. This document specifies requirements that implementations must follow.</p><h3 id="_1-1-document-structure" tabindex="-1">1.1. Document Structure <a class="header-anchor" href="#_1-1-document-structure" aria-label="Permalink to &quot;1.1. Document Structure&quot;">​</a></h3><p>This document describes the Shadowsocks 2022 Edition and is structured as follows:</p><ul><li>Section 2 describes requirements on the encryption key and how to derive session subkeys.</li><li>Section 3 defines the encoding details of the required AES-GCM methods and the process for handling requests and responses.</li><li>Section 4 defines the encoding details of the optional ChaCha-Poly1305 methods.</li></ul><h3 id="_1-2-terms-and-definitions" tabindex="-1">1.2. Terms and Definitions <a class="header-anchor" href="#_1-2-terms-and-definitions" aria-label="Permalink to &quot;1.2. Terms and Definitions&quot;">​</a></h3><p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in BCP 14 <a href="https://www.rfc-editor.org/info/rfc2119" target="_blank" rel="noreferrer">RFC2119</a> <a href="https://www.rfc-editor.org/info/rfc8174" target="_blank" rel="noreferrer">RFC8174</a> when, and only when, they appear in all capitals, as shown here.</p><p>Commonly used terms in this document are described below.</p><ul><li>Shadowsocks AEAD: The original AEAD construction of Shadowsocks, standardized in 2017.</li></ul><h2 id="_2-encryption-decryption-keys" tabindex="-1">2. Encryption/Decryption Keys <a class="header-anchor" href="#_2-encryption-decryption-keys" aria-label="Permalink to &quot;2. Encryption/Decryption Keys&quot;">​</a></h2><p>A pre-shared key is used to derive session subkeys, which are subsequently used to encrypt/decrypt traffic for the session. The pre-shared key is also used directly in some places.</p><h3 id="_2-1-psk" tabindex="-1">2.1. PSK <a class="header-anchor" href="#_2-1-psk" aria-label="Permalink to &quot;2.1. PSK&quot;">​</a></h3><p>Unlike previous editions, Shadowsocks 2022 requires that a cryptographically-secure fixed-length PSK to be directly provided by the user. Implementations MUST NOT use the old <code>EVP_BytesToKey</code> function or any other method to generate keys from passwords.</p><p>The PSK is encoded in base64 for convenience. Practically, it can be generated with <code>openssl rand -base64 &lt;key_size&gt;</code>. The key size depends on the chosen method. This change was inspired by WireGuard.</p><table tabindex="0"><thead><tr><th>Method</th><th style="text-align:right;">Key Bytes</th><th style="text-align:right;">Salt Bytes</th></tr></thead><tbody><tr><td>2022-blake3-aes-128-gcm</td><td style="text-align:right;">16</td><td style="text-align:right;">16</td></tr><tr><td>2022-blake3-aes-256-gcm</td><td style="text-align:right;">32</td><td style="text-align:right;">32</td></tr></tbody></table><h3 id="_2-2-subkey-derivation" tabindex="-1">2.2. Subkey Derivation <a class="header-anchor" href="#_2-2-subkey-derivation" aria-label="Permalink to &quot;2.2. Subkey Derivation&quot;">​</a></h3><p>Shadowsocks 2022&#39;s subkey derivation uses <a href="https://raw.githubusercontent.com/BLAKE3-team/BLAKE3-specs/master/blake3.pdf" target="_blank" rel="noreferrer">BLAKE3</a>&#39;s key derivation mode, which replaces the obsolete HKDF_SHA1 function in previous editions. A randomly generated salt is appended to the PSK to be used as key material. The salt has the same length as the pre-shared key.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>session_subkey := blake3::derive_key(context: &quot;shadowsocks 2022 session subkey&quot;, key_material: key + salt)</span></span></code></pre></div><h2 id="_3-required-methods" tabindex="-1">3. Required Methods <a class="header-anchor" href="#_3-required-methods" aria-label="Permalink to &quot;3. Required Methods&quot;">​</a></h2><p>Method <code>2022-blake3-aes-128-gcm</code> and <code>2022-blake3-aes-256-gcm</code> MUST be implemented by all implementations. <code>2022</code> reflects the fast-changing and flexible nature of the protocol.</p><h3 id="_3-1-tcp" tabindex="-1">3.1. TCP <a class="header-anchor" href="#_3-1-tcp" aria-label="Permalink to &quot;3.1. TCP&quot;">​</a></h3><p>TCP connections over a Shadowsocks 2022 tunnel maps 1:1 to proxy connections. Each proxy connection carries 2 proxy streams: request stream and response stream. A client initiates a proxy connection by starting a request stream, and the server sends back response over the response stream. These streams carry chunks of data encrypted by the session subkey.</p><p>For payload transfer, Shadowsocks 2022 inherits the length-chunk-payload-chunk model from Shadowsocks AEAD, with some minor tweaks to improve performance. Standalone header chunks are added to both request and response streams to improve security and protect against replay attacks.</p><h4 id="_3-1-1-encryption-and-decryption" tabindex="-1">3.1.1. Encryption and Decryption <a class="header-anchor" href="#_3-1-1-encryption-and-decryption" aria-label="Permalink to &quot;3.1.1. Encryption and Decryption&quot;">​</a></h4><p>Each proxy stream derives its own session subkey with a random salt for encryption and decryption. A 12-byte little-endian integer is used as nonce, and is incremented after each encryption or decryption operation.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>u96le counter</span></span>
<span class="line"><span>aead := aead_new(key: session_subkey)</span></span>
<span class="line"><span>ciphertext := aead.seal(nonce: counter, plaintext)</span></span>
<span class="line"><span>plaintext := aead.open(nonce: counter, ciphertext)</span></span></code></pre></div><h4 id="_3-1-2-format" tabindex="-1">3.1.2. Format <a class="header-anchor" href="#_3-1-2-format" aria-label="Permalink to &quot;3.1.2. Format&quot;">​</a></h4><p>A request stream starts with one random salt and two standalone header chunks, followed repeatedly by one length chunk and one payload chunk. Each chunk is independently encrypted/decrypted using the AEAD cipher.</p><p>A response stream also starts with a random salt, but only has one fixed-length header chunk, which also acts as the first length chunk.</p><p>A length chunk is a 16-bit big-endian unsigned integer that describes the payload length in the next payload chunk. Servers and clients rely on length chunks to know how many bytes to read for the next payload chunk.</p><p>A payload chunk can have up to 0xFFFF (65535) bytes of unencrypted payload. The 0x3FFF (16383) length cap in Shadowsocks AEAD does not apply to this edition.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>+----------------+</span></span>
<span class="line"><span>|  length chunk  |</span></span>
<span class="line"><span>+----------------+</span></span>
<span class="line"><span>| u16 big-endian |</span></span>
<span class="line"><span>+----------------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>+---------------+</span></span>
<span class="line"><span>| payload chunk |</span></span>
<span class="line"><span>+---------------+</span></span>
<span class="line"><span>|   variable    |</span></span>
<span class="line"><span>+---------------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Request stream:</span></span>
<span class="line"><span>+--------+------------------------+---------------------------+------------------------+---------------------------+---+</span></span>
<span class="line"><span>|  salt  | encrypted header chunk |  encrypted header chunk   | encrypted length chunk |  encrypted payload chunk  |...|</span></span>
<span class="line"><span>+--------+------------------------+---------------------------+------------------------+---------------------------+---+</span></span>
<span class="line"><span>| 16/32B |     11B + 16B tag      | variable length + 16B tag |  2B length + 16B tag   | variable length + 16B tag |...|</span></span>
<span class="line"><span>+--------+------------------------+---------------------------+------------------------+---------------------------+---+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Response stream:</span></span>
<span class="line"><span>+--------+------------------------+---------------------------+------------------------+---------------------------+---+</span></span>
<span class="line"><span>|  salt  | encrypted header chunk |  encrypted payload chunk  | encrypted length chunk |  encrypted payload chunk  |...|</span></span>
<span class="line"><span>+--------+------------------------+---------------------------+------------------------+---------------------------+---+</span></span>
<span class="line"><span>| 16/32B |    27/43B + 16B tag    | variable length + 16B tag |  2B length + 16B tag   | variable length + 16B tag |...|</span></span>
<span class="line"><span>+--------+------------------------+---------------------------+------------------------+---------------------------+---+</span></span></code></pre></div><h4 id="_3-1-3-header" tabindex="-1">3.1.3. Header <a class="header-anchor" href="#_3-1-3-header" aria-label="Permalink to &quot;3.1.3. Header&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Request fixed-length header:</span></span>
<span class="line"><span>+------+------------------+--------+</span></span>
<span class="line"><span>| type |     timestamp    | length |</span></span>
<span class="line"><span>+------+------------------+--------+</span></span>
<span class="line"><span>|  1B  | u64be unix epoch |  u16be |</span></span>
<span class="line"><span>+------+------------------+--------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Request variable-length header:</span></span>
<span class="line"><span>+------+----------+-------+----------------+----------+-----------------+</span></span>
<span class="line"><span>| ATYP |  address |  port | padding length |  padding | initial payload |</span></span>
<span class="line"><span>+------+----------+-------+----------------+----------+-----------------+</span></span>
<span class="line"><span>|  1B  | variable | u16be |     u16be      | variable |    variable     |</span></span>
<span class="line"><span>+------+----------+-------+----------------+----------+-----------------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Response fixed-length header:</span></span>
<span class="line"><span>+------+------------------+----------------+--------+</span></span>
<span class="line"><span>| type |     timestamp    |  request salt  | length |</span></span>
<span class="line"><span>+------+------------------+----------------+--------+</span></span>
<span class="line"><span>|  1B  | u64be unix epoch |     16/32B     |  u16be |</span></span>
<span class="line"><span>+------+------------------+----------------+--------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HeaderTypeClientStream = 0</span></span>
<span class="line"><span>HeaderTypeServerStream = 1</span></span>
<span class="line"><span>MinPaddingLength = 0</span></span>
<span class="line"><span>MaxPaddingLength = 900</span></span></code></pre></div><ul><li>1-byte type: Differentiates between client and server messages. A request stream has type <code>0</code>. A response stream has type <code>1</code>.</li><li>8-byte Unix epoch timestamp: Messages with over 30 seconds of time difference MUST be treated as replay.</li><li>Length: Indicates the next chunk&#39;s plaintext length (not including the authentication tag).</li><li>ATYP + address + port: Target address in <a href="https://datatracker.ietf.org/doc/html/rfc1928#section-5" target="_blank" rel="noreferrer">SOCKS5 address format</a>.</li><li>Request salt in response header: This maps a response stream to a request stream. The client MUST check this field in response header against the request salt.</li></ul><h4 id="_3-1-3-detection-prevention" tabindex="-1">3.1.3. Detection Prevention <a class="header-anchor" href="#_3-1-3-detection-prevention" aria-label="Permalink to &quot;3.1.3. Detection Prevention&quot;">​</a></h4><p>The random salt and header chunks MUST be buffered and sent in one write call to the underlying socket. Separate writes can result in predictable packet sizes, which could reveal the protocol in use.</p><p>To process the salt and the fixed-length header, servers and clients MUST make exactly one read call. If the amount of data received is not enough for decryption, or decryption fails, or header validation fails, the server MUST act in a way that does not exhibit the amount of bytes consumed by the server. This defends against probes that send one byte at a time to detect how many bytes the server consumes before closing the connection.</p><p>In such circumstances, do not immediately close the socket. Closing the socket with unread data causes RST to be sent. This reveals the exact number of bytes consumed by the server. Implementations MAY choose to employ one of the following strategies:</p><ol><li>To consistently send RST even when the receive buffer is empty, set <code>SO_LINGER</code> to true with a zero timeout, then close the socket.</li><li>To consistently send FIN even when the receive buffer has unread data, shut down the write half of the connection by calling <code>shutdown(SHUT_WR)</code>, then drain the connection for any further received data.</li><li>To consistently send FIN even when the receive buffer has unread data, but disallow unlimited writes, shut down the write half of the connection by calling <code>shutdown(SHUT_WR)</code>, then <code>epoll</code> for <code>EPOLLRDHUP</code>. Read until EOF then close the connection. This limits the amount of data the other party can send to the size of your socket receive buffer.</li></ol><p>In a request header, either initial payload or padding MUST be present. When making a request header, if payload is not available, add non-zero random length padding.</p><p>For client implementations, a simple approach is to always send random length padding. To accommodate TCP Fast Open (TFO), clients MAY wait a short amount of time (typically less than one second) for client-first protocols to write the first payload, before carrying on to establish a proxy connection and write the header.</p><p>Servers MUST reject the request if the variable-length header chunk does not contain payload and the padding length is 0. Servers MUST enforce that the request header (including padding) does not extend beyond the header chunks.</p><p>For response streams, the header is always sent along with payload. No padding is needed.</p><h4 id="_3-1-4-replay-protection" tabindex="-1">3.1.4. Replay Protection <a class="header-anchor" href="#_3-1-4-replay-protection" aria-label="Permalink to &quot;3.1.4. Replay Protection&quot;">​</a></h4><p>Servers MUST store all incoming salts for 60 seconds. When a new TCP session is established, the first received message is decrypted and its timestamp MUST be checked against system time. If the time difference is within 30 seconds, then the salt is checked against all stored salts. If no repeated salt is discovered, then the salt is added to the pool and the session is successfully established.</p><p>Some techniques in implementations of previous editions are no longer necessary and SHOULD NOT be implemented for Shadowsocks 2022:</p><ul><li>Clients do not need to check the salt in response streams, because the response header includes an associated request salt.</li><li>Outgoing salts do not need to be added to the salt pool, because the header has a type field that indicates the direction of the stream.</li><li>For salt storage, implementations MUST NOT use Bloom filters or anything that could return a false positive result, because salts only have to be stored for 60 seconds.</li></ul><h3 id="_3-2-udp" tabindex="-1">3.2. UDP <a class="header-anchor" href="#_3-2-udp" aria-label="Permalink to &quot;3.2. UDP&quot;">​</a></h3><p>Shadowsocks 2022 completely overhauled UDP relay. Each UDP relay session has a unique session ID, which is also used as salt to derive the session subkey. A packet ID acts as packet counter for the session. The session ID and packet ID are combined and encrypted in a separate header.</p><p>Clients create UDP relay sessions based on source address and port. When a client receives a packet from a new source address and port, it opens a new relay session, and subsequent packets from that source are sent over the same session.</p><p>Servers manage UDP relay sessions by session ID. Each client session corresponds to one outgoing UDP socket on the server.</p><h4 id="_3-2-1-encryption-and-decryption" tabindex="-1">3.2.1. Encryption and Decryption <a class="header-anchor" href="#_3-2-1-encryption-and-decryption" aria-label="Permalink to &quot;3.2.1. Encryption and Decryption&quot;">​</a></h4><p>The separate header is encrypted/decrypted with the pre-shared key using an AES block cipher. The body is encrypted/decrypted with the session subkey using an AEAD cipher specific to the session.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>block_cipher := aes_new(psk)</span></span>
<span class="line"><span>encrypted_separate_header := block_cipher.encrypt(separate_header)</span></span>
<span class="line"><span>decrypted_separate_header := block_cipher.decrypt(encrypted_separate_header)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>session_subkey := blake3::derive_key(context: &quot;shadowsocks 2022 session subkey&quot;, key_material: key + separate_header[0..8])</span></span>
<span class="line"><span>session_aead_cipher := aes_gcm_new(session_subkey)</span></span>
<span class="line"><span>encrypted_body := session_aead_cipher.seal(nonce: separate_header[4..16], body)</span></span>
<span class="line"><span>decrypted_body := session_aead_cipher.open(nonce: separate_header[4..16], body)</span></span></code></pre></div><h4 id="_3-2-2-format-and-separate-header" tabindex="-1">3.2.2. Format and Separate Header <a class="header-anchor" href="#_3-2-2-format-and-separate-header" aria-label="Permalink to &quot;3.2.2. Format and Separate Header&quot;">​</a></h4><p>A UDP packet consists of a separate header and an AEAD-encrypted body. The separate header consists of an 8-byte session ID and an 8-byte big-endian unsigned integer as packet ID. The body is made up of the main header and payload.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Packet:</span></span>
<span class="line"><span>+---------------------------+---------------------------+</span></span>
<span class="line"><span>| encrypted separate header |       encrypted body      |</span></span>
<span class="line"><span>+---------------------------+---------------------------+</span></span>
<span class="line"><span>|            16B            | variable length + 16B tag |</span></span>
<span class="line"><span>+---------------------------+---------------------------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Separate header:</span></span>
<span class="line"><span>+------------+-----------+</span></span>
<span class="line"><span>| session ID | packet ID |</span></span>
<span class="line"><span>+------------+-----------+</span></span>
<span class="line"><span>|     8B     |   u64be   |</span></span>
<span class="line"><span>+------------+-----------+</span></span></code></pre></div><p>UDP sessions are initiated by clients. To start a UDP session, the client generates a new random session ID and maintains a counter starting at zero as packet ID. These are used in client-to-server messages and are usually referred to as client session ID and client packet ID.</p><p>Servers use client session IDs to identify UDP sessions. For server-to-client messages, a different set of session ID and packet ID is used, and may be referred to as server session ID and server packet ID. Servers MUST not use client session IDs as server session IDs.</p><h4 id="_3-2-3-main-header" tabindex="-1">3.2.3. Main Header <a class="header-anchor" href="#_3-2-3-main-header" aria-label="Permalink to &quot;3.2.3. Main Header&quot;">​</a></h4><p>The main header, or message header, is the header at the start of the body. The client-to-server message header consists of type, timestamp, padding and SOCKS address. The server-to-client message header has an additional client session ID field, which maps the server session to a client session.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Client-to-server message header:</span></span>
<span class="line"><span>+------+------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>| type |     timestamp    | padding length |  padding | ATYP |  address |  port |</span></span>
<span class="line"><span>+------+------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>|  1B  | u64be unix epoch |     u16be      | variable |  1B  | variable | u16be |</span></span>
<span class="line"><span>+------+------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Server-to-client message header:</span></span>
<span class="line"><span>+------+------------------+-------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>| type |     timestamp    | client session ID | padding length |  padding | ATYP |  address |  port |</span></span>
<span class="line"><span>+------+------------------+-------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>|  1B  | u64be unix epoch |         8B        |     u16be      | variable |  1B  | variable | u16be |</span></span>
<span class="line"><span>+------+------------------+-------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>HeaderTypeClientPacket = 0</span></span>
<span class="line"><span>HeaderTypeServerPacket = 1</span></span></code></pre></div><ul><li>1-byte type: Differentiates between client and server messages. A client message has type <code>0</code>. A server message has type <code>1</code>.</li><li>8-byte Unix epoch timestamp: Messages with over 30 seconds of time difference MUST be treated as replay.</li><li>Padding length: Specifies the length of the optional padding. Implementations MAY allow users to select from a list of predefined padding policies. Care SHOULD be taken to not exceed the network path&#39;s MTU when padding packets.</li></ul><h4 id="_3-2-4-session-id-based-routing-and-sliding-window-replay-protection" tabindex="-1">3.2.4. Session ID based Routing and Sliding Window Replay Protection <a class="header-anchor" href="#_3-2-4-session-id-based-routing-and-sliding-window-replay-protection" aria-label="Permalink to &quot;3.2.4. Session ID based Routing and Sliding Window Replay Protection&quot;">​</a></h4><p>Servers MUST route packets based on client session ID, not packet source address. When a server receives a packet with a new client session ID, a new relay session is created, and subsequent packets from that client session are sent over this relay session.</p><p>A relay session MUST keep track of the last seen client address. When a packet is received from the client and is successfully validated, the last seen client address MUST be updated. Return packets MUST be sent to this address. This allows UDP sessions to survive client network changes.</p><p>Each relay session MUST be remembered for at least 60 seconds. A shorter NAT timeout may allow attackers to successfully replay packets from an already forgotten client session.</p><p>To handle server restarts, clients MUST allow each client session to be associated with more than one server session. Each association MUST be remembered for no less than the NAT timeout, which is at least 60 seconds. Alternatively, clients MAY choose to keep track of one old server session and one current server session, and reject newer server sessions when the last packet received from the old session is less than 1 minute old.</p><p>Clients and servers MUST employ a sliding window filter for each relay session to check incoming packets for duplicate or out-of-window packet IDs. Existing implementations from WireGuard MAY be used. The packet ID MAY be checked as soon as the separate header is decrypted, but the sliding window state MUST NOT be updated before successful header validation, which filters out packets that are semantically invalid or have a bad timestamp.</p><h2 id="_4-optional-methods" tabindex="-1">4. Optional Methods <a class="header-anchor" href="#_4-optional-methods" aria-label="Permalink to &quot;4. Optional Methods&quot;">​</a></h2><p>Implementations MAY choose to implement <code>2022-blake3-chacha20-poly1305</code>, <code>2022-blake3-chacha12-poly1305</code> and <code>2022-blake3-chacha8-poly1305</code> when support for CPUs without AES instructions is a priority. The use of reduced-round ChaCha20 variants is justified by <a href="https://eprint.iacr.org/2019/1492.pdf" target="_blank" rel="noreferrer">this paper</a>.</p><p>For TCP, AES-GCM is simply replaced by ChaCha-Poly1305. For UDP, a slightly different construction is used.</p><h3 id="_4-1-udp-construction" tabindex="-1">4.1. UDP Construction <a class="header-anchor" href="#_4-1-udp-construction" aria-label="Permalink to &quot;4.1. UDP Construction&quot;">​</a></h3><p><code>2022-blake3-chacha20-poly1305</code> uses XChaCha20-Poly1305 with the pre-shared key directly and a random nonce for each message.</p><p>A UDP packet starts with the random nonce, followed by an encrypted body. The session ID and packet ID are merged into the main header.</p><p>The same sliding window filter is used for replay protection. It is not necessary to check for repeated nonce.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Packet:</span></span>
<span class="line"><span>+-------+---------------------------+</span></span>
<span class="line"><span>| nonce |       encrypted body      |</span></span>
<span class="line"><span>+-------+---------------------------+</span></span>
<span class="line"><span>|  24B  | variable length + 16B tag |</span></span>
<span class="line"><span>+-------+---------------------------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Client-to-server message header:</span></span>
<span class="line"><span>+-------------------+------------------+------+------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>| client session ID | client packet ID | type |     timestamp    | padding length |  padding | ATYP |  address |  port |</span></span>
<span class="line"><span>+-------------------+------------------+------+------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>|         8B        |       u64be      |  1B  | u64be unix epoch |     u16be      | variable |  1B  | variable | u16be |</span></span>
<span class="line"><span>+-------------------+------------------+------+------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Server-to-client message header:</span></span>
<span class="line"><span>+-------------------+------------------+------+------------------+-------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>| server session ID | server packet ID | type |     timestamp    | client session ID | padding length |  padding | ATYP |  address |  port |</span></span>
<span class="line"><span>+-------------------+------------------+------+------------------+-------------------+----------------+----------+------+----------+-------+</span></span>
<span class="line"><span>|         8B        |       u64be      |  1B  | u64be unix epoch |         8B        |     u16be      | variable |  1B  | variable | u16be |</span></span>
<span class="line"><span>+-------------------+------------------+------+------------------+-------------------+----------------+----------+------+----------+-------+</span></span></code></pre></div><h2 id="acknowledgement" tabindex="-1">Acknowledgement <a class="header-anchor" href="#acknowledgement" aria-label="Permalink to &quot;Acknowledgement&quot;">​</a></h2><p>I would like to thank @zonyitoo, @xiaokangwang, and @nekohasekai for their input on the design of the protocol.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/shadowsocks/shadowsocks-org/edit/main/docs/doc/sip022.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2025-07-08T16:37:24.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/doc/sip008.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>SIP008 Online Configuration Delivery</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/doc/sip023.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>SIP023 Extensible Identity Headers</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>This website is released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2022 Shadowsocks contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"doc_advanced.md\":\"CJ8LqMII\",\"doc_aead.md\":\"Bekkqngg\",\"doc_banner.md\":\"8TsX46DU\",\"doc_configs.md\":\"Bi1h0rgr\",\"doc_contributors.md\":\"Dr3xZbUn\",\"doc_deploying.md\":\"CvAu6hOz\",\"doc_getting-started.md\":\"ONEn5k7X\",\"doc_sip002.md\":\"ih6KgiAp\",\"doc_sip003.md\":\"3IKXpPa7\",\"doc_sip008.md\":\"CoTEEf8D\",\"doc_sip022.md\":\"B6xutQm7\",\"doc_sip023.md\":\"Bn3-IAP7\",\"doc_stream.md\":\"Dn95RWOr\",\"doc_what-is-shadowsocks.md\":\"Baakgvew\",\"doc_what-is-sip.md\":\"CdHs01x7\",\"index.md\":\"RIK4HFEQ\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Shadowsocks\",\"description\":\"A fast tunnel proxy that helps you bypass firewalls.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Documentation\",\"link\":\"/doc/what-is-shadowsocks\",\"activeMatch\":\"/doc/\"},{\"text\":\"Github Issues\",\"link\":\"https://github.com/shadowsocks/shadowsocks-org/issues\"},{\"text\":\"Community\",\"link\":\"https://discourse.shadowsocks.org/\"}],\"sidebar\":{\"/doc\":[{\"text\":\"Introduction\",\"collapsible\":true,\"items\":[{\"text\":\"What is Shadowsocks?\",\"link\":\"/doc/what-is-shadowsocks\"},{\"text\":\"Getting Started\",\"link\":\"/doc/getting-started\"},{\"text\":\"Deploying\",\"link\":\"/doc/deploying\"}]},{\"text\":\"Configuration\",\"collapsible\":true,\"items\":[{\"text\":\"Config Format\",\"link\":\"/doc/configs\"},{\"text\":\"Advanced\",\"link\":\"/doc/advanced\"}]},{\"text\":\"Ciphers\",\"collapsible\":true,\"items\":[{\"text\":\"AEAD\",\"link\":\"/doc/aead\"},{\"text\":\"Stream\",\"link\":\"/doc/stream\"}]},{\"text\":\"SIPs\",\"collapsible\":true,\"items\":[{\"text\":\"What is SIP?\",\"link\":\"/doc/what-is-sip\"},{\"text\":\"SIP002 URI Scheme\",\"link\":\"/doc/sip002\"},{\"text\":\"SIP003 Plugin\",\"link\":\"/doc/sip003\"},{\"text\":\"SIP008 Online Configuration Delivery\",\"link\":\"/doc/sip008\"},{\"text\":\"SIP022 AEAD-2022 Ciphers\",\"link\":\"/doc/sip022\"},{\"text\":\"SIP023 Extensible Identity Headers\",\"link\":\"/doc/sip023\"}]},{\"text\":\"About\",\"collapsible\":true,\"items\":[{\"text\":\"Contributors\",\"link\":\"/doc/contributors\"}]}]},\"editLink\":{\"pattern\":\"https://github.com/shadowsocks/shadowsocks-org/edit/main/docs/:path\",\"text\":\"Edit this page on GitHub\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/shadowsocks/shadowsocks-org\"}],\"footer\":{\"message\":\"This website is released under the MIT License.\",\"copyright\":\"Copyright © 2022 Shadowsocks contributors\"},\"algolia\":{\"appId\":\"NCNKXBRNNU\",\"apiKey\":\"56f1b2465364d7fb7a61745427467c43\",\"indexName\":\"shadowsocks\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>